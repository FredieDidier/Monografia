df = readr::read_rds("./input/regression.rds")

haven::write_dta(df, "./input/regression.dta")

library(mlogit)

df = df %>%
  group_by(id_code) %>%
  slice_sample(prop = 0.25)

readr::write_rds(df, "./input/regression_sample.rds")

df = df %>%
  mlogit.data(choice = "position_transition", shape = "wide")

reg = mlogit(formula = position_transition ~ 1 | as.factor(educ), data = df, weights = weights)
